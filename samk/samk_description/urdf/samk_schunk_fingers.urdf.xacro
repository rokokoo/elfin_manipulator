<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="samk_schunk_fingers">
<!-- ELFIN ROBOT -->
	<xacro:include filename="$(find elfin_description)/urdf/elfin5.urdf.xacro" />

<!-- SCHUNK GRIPPER-->


	<joint name="schunk_gripper_joint" type="fixed">
		<origin xyz="0.0 0.0 0.007" rpy="0 0 0"/>
		<parent link="elfin_end_link" />
		<child link="schunk_gripper" />
	</joint>

	<link name="schunk_gripper">
		<inertial>
			<origin xyz="-0.0051568 7.4151E-07 0.031206" rpy="0 0 0" />
			<mass value="0.051066" />
			<inertia ixx="4.0388E-05" ixy="1.4949E-13" ixz="7.3368E-06" iyy="4.0519E-05" iyz="-2.4436E-11" izz="1.931E-05" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://samk_description/meshes/schunk_body.STL" />
			</geometry>
			<material name="green">
				<color rgba="0 1 0 1" />
			</material>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://samk_description/meshes/schunk_body.STL" />
			</geometry>
		</collision>
	</link>
	<link name="finger1_link">
		<inertial>
			<origin xyz="-0.023225 5.9707E-05 0.11438" rpy="0 0 0" />
			<mass value="0.0026753" />
			<inertia ixx="3.6565E-07" ixy="-4.4111E-11" ixz="1.5685E-08" iyy="2.7762E-07" iyz="4.1902E-11" izz="9.9939E-08" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://samk_description/meshes/finger1_link.STL" />
			</geometry>
			<material name="white">
				<color rgba="1 1 1 1" />
			</material>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://samk_description/meshes/finger1_link.STL" />
			</geometry>
		</collision>
	</link>
	<joint name="finger1_joint" type="prismatic">
		<origin xyz="0 0 0" rpy="0 0 0" />
		<parent link="schunk_gripper" />
		<child link="finger1_link" />
		<axis xyz="1 0 0" />
		<limit lower="0" upper="0.006" effort="0" velocity="0" />
		<dynamics damping="1" friction="0.3"/>
	</joint>

	<link name="finger2_link">
		<inertial>
			<origin xyz="0.023224 -5.9836E-05 0.11438" rpy="0 0 0" />
			<mass value="0.0026753" />
			<inertia ixx="3.6565E-07" ixy="-4.4111E-11" ixz="-1.5685E-08" iyy="2.7762E-07" iyz="-4.1902E-11" izz="9.9941E-08" />
		</inertial>
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://samk_description/meshes/finger2_link.STL" />
			</geometry>
			<material name="pink">
				<color rgba="1 0 1 1" />
			</material>
		</visual>
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<mesh filename="package://samk_description/meshes/finger2_link.STL" />
			</geometry>
		</collision>
	</link>

	<joint name="finger2_joint" type="prismatic">
		<origin xyz="0 0 0" rpy="0 0 0" />
		<parent link="schunk_gripper" />
		<child link="finger2_link" />
		<axis xyz="-1 0 0" />
		<limit lower="-0.006" upper="0.006" effort="0" velocity="0" />
		<dynamics damping="1" friction="0.3"/>
		<mimic joint="finger1_joint" multiplier="1" offset="0" />
	</joint>

	<transmission name="finger1_joint_trans">
		<type>transmission_interface/SimpleTransmission</type>
		<joint name="finger1_joint">
			<hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
		</joint>
		<actuator name="finger1_joint_motor">
			<mechanicalReduction>1</mechanicalReduction>
		</actuator>
	</transmission>

	<transmission name="finger2_joint_trans">
		<type>transmission_interface/SimpleTransmission</type>
		<joint name="finger2_joint">
			<hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
		</joint>
		<actuator name="finger2_joint_motor">
			<mechanicalReduction>1</mechanicalReduction>
		</actuator>
	</transmission>

	<gazebo>
		<!-- loading plugin: mimic joints works in gazebo now-->
		<plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="mimic_joints">
			<joint>finger2_joint</joint>
			<mimicJoint>finger1_joint</mimicJoint>
			<multiplier>1.0</multiplier>
		</plugin>
	</gazebo>

<!-- Realsense -->
	<xacro:arg name="use_nominal_extrinsics" default="false" />
	<xacro:include filename="$(find realsense2_description)/urdf/_d435i.urdf.xacro"/>

	<xacro:sensor_d435i parent="base_link" use_nominal_extrinsics="$(arg use_nominal_extrinsics)">
		<origin xyz="0 0 0" rpy="0 0 0"/>
	</xacro:sensor_d435i>
</robot>